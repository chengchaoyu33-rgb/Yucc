# WMS-Lite 开发计划文档

## 一、项目里程碑

### 1.1 版本规划总览

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          WMS-Lite 版本路线图                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  v1.0.0 (MVP) ──────────────────────────────────────────── 预计 3 周        │
│  │                                                                          │
│  │  核心功能：用户登录、商品管理、入库出库、库存查询                         │
│  │                                                                          │
│  ▼                                                                          │
│                                                                             │
│  v1.1.0 ─────────────────────────────────────────────────── 预计 2 周        │
│  │                                                                          │
│  │  功能完善：批次管理、效期管理、库存盘点、库存预警                         │
│  │                                                                          │
│  ▼                                                                          │
│                                                                             │
│  v1.2.0 ─────────────────────────────────────────────────── 预计 2 周        │
│  │                                                                          │
│  │  高级功能：报表统计、移库管理、操作日志、打印管理                         │
│  │                                                                          │
│  ▼                                                                          │
│                                                                             │
│  v2.0.0 ─────────────────────────────────────────────────── 预计 3 周        │
│                                                                             │
│  扩展功能：PDA 支持、数据导入导出、API 开放、多仓库                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 里程碑详情

| 版本 | 目标 | 预计周期 | 主要交付物 |
|------|------|----------|------------|
| v1.0.0 | MVP 发布 | 3 周 | 核心入库出库功能 |
| v1.1.0 | 功能完善 | 2 周 | 批次、盘点、预警 |
| v1.2.0 | 高级功能 | 2 周 | 报表、日志、打印 |
| v2.0.0 | 扩展升级 | 3 周 | PDA、API、多仓库 |

---

## 二、v1.0.0 开发计划 (MVP)

### 2.1 阶段目标

完成 WMS 系统核心功能，实现基本的入库、出库、库存管理能力。

### 2.2 功能清单

| 模块 | 功能 | 优先级 | 预计工时 |
|------|------|--------|----------|
| **系统管理** | 用户登录/登出 | P0 | 4h |
| | 用户管理 CRUD | P0 | 8h |
| | 角色管理 | P0 | 6h |
| | 权限控制 | P0 | 8h |
| **基础数据** | 商品管理 CRUD | P0 | 12h |
| | 商品分类管理 | P0 | 6h |
| | 仓库管理 | P0 | 4h |
| | 库位管理 | P0 | 8h |
| **入库管理** | 入库单创建 | P0 | 8h |
| | 入库单审核 | P0 | 4h |
| | 入库确认 | P0 | 6h |
| | 入库记录查询 | P0 | 4h |
| **出库管理** | 出库单创建 | P0 | 8h |
| | 出库单审核 | P0 | 4h |
| | 出库确认 | P0 | 6h |
| | 出库记录查询 | P0 | 4h |
| **库存管理** | 实时库存查询 | P0 | 6h |
| | 库存流水查询 | P0 | 4h |
| **首页看板** | 数据统计展示 | P1 | 8h |

### 2.3 周计划

#### 第一周：基础架构搭建

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              第一周工作计划                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Day 1-2: 项目初始化                                                        │
│  ├─ 创建项目目录结构                                                        │
│  ├─ 配置前端项目 (Vue 3 + Vite)                                             │
│  ├─ 配置后端项目 (Node.js + Express)                                        │
│  ├─ 配置 Prisma + SQLite                                                    │
│  └─ 配置 ESLint + Prettier                                                  │
│                                                                             │
│  Day 3-4: 数据库设计与认证                                                  │
│  ├─ 设计数据库模型                                                          │
│  ├─ 创建 Prisma Schema                                                      │
│  ├─ 实现用户登录接口                                                        │
│  ├─ 实现 JWT 认证中间件                                                     │
│  └─ 实现前端登录页面                                                        │
│                                                                             │
│  Day 5: 用户权限模块                                                        │
│  ├─ 实现用户管理接口                                                        │
│  ├─ 实现角色管理接口                                                        │
│  ├─ 实现权限控制中间件                                                      │
│  └─ 实现前端用户管理页面                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 第二周：基础数据与入库

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              第二周工作计划                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Day 1-2: 商品管理                                                          │
│  ├─ 实现商品管理接口                                                        │
│  ├─ 实现商品分类接口                                                        │
│  ├─ 实现前端商品列表页面                                                    │
│  └─ 实现前端商品表单页面                                                    │
│                                                                             │
│  Day 3: 仓库库位管理                                                        │
│  ├─ 实现仓库管理接口                                                        │
│  ├─ 实现库区管理接口                                                        │
│  ├─ 实现库位管理接口                                                        │
│  └─ 实现前端仓库库位页面                                                    │
│                                                                             │
│  Day 4-5: 入库管理                                                          │
│  ├─ 实现入库单接口                                                          │
│  ├─ 实现入库审核流程                                                        │
│  ├─ 实现入库确认与库存更新                                                  │
│  └─ 实现前端入库单页面                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 第三周：出库与库存

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              第三周工作计划                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Day 1-2: 出库管理                                                          │
│  ├─ 实现出库单接口                                                          │
│  ├─ 实现出库审核流程                                                        │
│  ├─ 实现出库确认与库存扣减                                                  │
│  └─ 实现前端出库单页面                                                      │
│                                                                             │
│  Day 3: 库存管理                                                            │
│  ├─ 实现实时库存查询接口                                                    │
│  ├─ 实现库存流水记录                                                        │
│  └─ 实现前端库存页面                                                        │
│                                                                             │
│  Day 4: 首页看板                                                            │
│  ├─ 实现统计数据接口                                                        │
│  └─ 实现前端看板页面                                                        │
│                                                                             │
│  Day 5: 测试与发布                                                          │
│  ├─ 功能测试                                                                │
│  ├─ Bug 修复                                                                │
│  ├─ 部署文档编写                                                            │
│  └─ v1.0.0 发布                                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、v1.1.0 开发计划

### 3.1 阶段目标

完善库存管理功能，增加批次管理、效期管理、库存盘点、库存预警等功能。

### 3.2 功能清单

| 模块 | 功能 | 优先级 | 预计工时 |
|------|------|--------|----------|
| **批次管理** | 批次号生成规则 | P1 | 4h |
| | 批次信息维护 | P1 | 6h |
| | 批次查询 | P1 | 4h |
| **效期管理** | 效期录入 | P1 | 2h |
| | 效期预警 | P1 | 4h |
| | 效期查询 | P1 | 2h |
| **库存盘点** | 盘点任务创建 | P1 | 6h |
| | 盘点录入 | P1 | 4h |
| | 差异处理 | P1 | 6h |
| | 盘点报表 | P1 | 4h |
| **库存预警** | 低库存预警 | P1 | 4h |
| | 高库存预警 | P1 | 2h |
| | 预警通知 | P1 | 4h |
| **供应商客户** | 供应商管理 | P1 | 4h |
| | 客户管理 | P1 | 4h |

### 3.3 周计划

#### 第一周：批次与效期

- Day 1-2: 批次管理功能开发
- Day 3-4: 效期管理功能开发
- Day 5: 供应商客户管理

#### 第二周：盘点与预警

- Day 1-3: 库存盘点功能开发
- Day 4-5: 库存预警功能开发

---

## 四、v1.2.0 开发计划

### 4.1 阶段目标

增加报表统计、移库管理、操作日志、打印管理等高级功能。打印管理支持可视化模板设计、数据绑定、拖放布局、样式设置等功能。

### 4.2 功能清单

| 模块 | 功能 | 优先级 | 预计工时 |
|------|------|--------|----------|
| **报表统计** | 库存汇总报表 | P2 | 6h |
| | 出入库统计报表 | P2 | 8h |
| | 库存周转分析 | P2 | 6h |
| | 报表导出 | P2 | 4h |
| **移库管理** | 移库单创建 | P2 | 4h |
| | 移库执行 | P2 | 4h |
| **操作日志** | 日志记录 | P2 | 4h |
| | 日志查询 | P2 | 4h |
| **打印管理** | 模板设计器 | P1 | 16h |
| | 数据绑定配置 | P1 | 8h |
| | 打印预览/执行 | P1 | 8h |
| | 条码规则管理 | P2 | 4h |
| | 打印记录查询 | P2 | 4h |
| **系统配置** | 系统参数配置 | P2 | 4h |
| | 单据编号规则 | P2 | 4h |

### 4.3 周计划

#### 第一周：报表与日志

- Day 1-3: 报表统计功能开发
- Day 4-5: 操作日志功能开发

#### 第二周：移库与打印

- Day 1-2: 移库管理功能开发
- Day 3-5: 打印管理系统开发

### 4.4 打印模块详细计划

#### 4.4.1 技术选型

| 功能 | 技术方案 | 说明 |
|------|----------|------|
| 画布渲染 | Konva.js | 高性能 Canvas 渲染 |
| 一维码 | JsBarcode | 支持 CODE128/EAN13 等 |
| 二维码 | QRCode.js | QR Code 生成 |
| 打印执行 | print.js / Lodop | 浏览器打印/专业打印 |
| PDF 生成 | PDFKit | 服务端 PDF 生成 |

#### 4.4.2 开发任务分解

| 任务 | 负责人 | 预计工时 | 依赖 |
|------|--------|----------|------|
| 数据库表设计与迁移 | 后端 | 2h | - |
| 打印模板 CRUD 接口 | 后端 | 4h | 数据库 |
| 数据源配置接口 | 后端 | 4h | 模板接口 |
| 打印执行接口 | 后端 | 4h | 模板接口 |
| 条码规则接口 | 后端 | 2h | - |
| 打印记录接口 | 后端 | 2h | - |
| 模板列表页面 | 前端 | 4h | 模板接口 |
| 模板设计器-画布 | 前端 | 8h | - |
| 模板设计器-元素面板 | 前端 | 4h | 画布 |
| 模板设计器-属性面板 | 前端 | 6h | 画布 |
| 数据绑定配置 | 前端 | 4h | 数据源接口 |
| 打印预览组件 | 前端 | 4h | 设计器 |
| 打印执行功能 | 前端 | 4h | 预览组件 |
| 条码生成功能 | 前端 | 2h | 条码接口 |
| 打印记录页面 | 前端 | 2h | 记录接口 |

#### 4.4.3 里程碑

```
Day 1: 数据库与基础接口
├─ 数据库表创建
├─ 模板 CRUD 接口
└─ 数据源配置接口

Day 2: 模板设计器基础
├─ 画布组件开发
├─ 元素拖放功能
└─ 基础元素渲染

Day 3: 模板设计器完善
├─ 属性面板开发
├─ 样式配置功能
├─ 条码/二维码元素
└─ 数据绑定功能

Day 4: 打印执行
├─ 打印预览功能
├─ 打印执行功能
├─ 条码规则管理
└─ 打印记录功能

Day 5: 集成测试
├─ 功能联调
├─ Bug 修复
└─ 文档更新
```

---

## 五、v2.0.0 开发计划

### 5.1 阶段目标

支持 PDA 扫码作业、数据导入导出、API 开放、多仓库管理。

### 5.2 功能清单

| 模块 | 功能 | 优先级 | 预计工时 |
|------|------|--------|----------|
| **PDA 支持** | 移动端适配 | P2 | 8h |
| | 扫码入库 | P2 | 6h |
| | 扫码出库 | P2 | 6h |
| | 扫码盘点 | P2 | 6h |
| **数据导入** | 商品导入 | P2 | 6h |
| | 客户导入 | P2 | 4h |
| | 供应商导入 | P2 | 4h |
| **数据导出** | 库存导出 | P2 | 4h |
| | 单据导出 | P2 | 4h |
| **API 开放** | API 文档 | P2 | 4h |
| | API Key 管理 | P2 | 6h |
| | 开放接口 | P2 | 8h |
| **多仓库** | 仓库切换 | P2 | 4h |
| | 调拨管理 | P2 | 8h |
| | 仓库报表 | P2 | 6h |

---

## 六、任务分配建议

### 6.1 团队角色

| 角色 | 职责 | 人数 |
|------|------|------|
| 项目经理 | 项目管理、进度跟踪 | 1 |
| 前端开发 | 前端页面开发 | 1-2 |
| 后端开发 | 后端接口开发 | 1-2 |
| 测试工程师 | 功能测试、Bug 管理 | 1 |
| 运维工程师 | 部署、运维 | 0.5 |

### 6.2 任务分配

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              任务分配矩阵                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  前端开发                                                                    │
│  ├─ 页面开发 (列表、表单、详情)                                              │
│  ├─ 组件开发 (公共组件、业务组件)                                            │
│  ├─ API 对接                                                                │
│  └─ 样式调整                                                                │
│                                                                             │
│  后端开发                                                                    │
│  ├─ 接口开发 (CRUD、业务逻辑)                                                │
│  ├─ 数据库设计                                                              │
│  ├─ 中间件开发                                                              │
│  └─ 单元测试                                                                │
│                                                                             │
│  测试工程师                                                                  │
│  ├─ 功能测试                                                                │
│  ├─ 接口测试                                                                │
│  ├─ 性能测试                                                                │
│  └─ Bug 管理                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 七、风险管理

### 7.1 风险清单

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 需求变更 | 中 | 高 | 做好需求评审，控制变更范围 |
| 技术难点 | 低 | 中 | 提前技术调研，制定备选方案 |
| 人员变动 | 低 | 高 | 做好文档，知识共享 |
| 进度延期 | 中 | 中 | 预留缓冲时间，及时调整计划 |

### 7.2 质量保障

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              质量保障措施                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  代码质量                                                                    │
│  ├─ 代码审查 (Code Review)                                                  │
│  ├─ 静态检查 (ESLint)                                                       │
│  ├─ 单元测试 (覆盖率 > 70%)                                                 │
│  └─ 集成测试                                                                │
│                                                                             │
│  功能质量                                                                    │
│  ├─ 功能测试                                                                │
│  ├─ 回归测试                                                                │
│  ├─ 用户验收测试                                                            │
│  └─ 性能测试                                                                │
│                                                                             │
│  文档质量                                                                    │
│  ├─ 需求文档                                                                │
│  ├─ 设计文档                                                                │
│  ├─ API 文档                                                                │
│  └─ 用户手册                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 八、发布计划

### 8.1 发布流程

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              发布流程                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  开发环境                                                                    │
│  ├─ 功能开发                                                                │
│  ├─ 单元测试                                                                │
│  └─ 代码审查                                                                │
│       │                                                                     │
│       ▼                                                                     │
│  测试环境                                                                    │
│  ├─ 部署测试                                                                │
│  ├─ 功能测试                                                                │
│  ├─ 回归测试                                                                │
│  └─ Bug 修复                                                                │
│       │                                                                     │
│       ▼                                                                     │
│  预发布环境                                                                  │
│  ├─ 部署验证                                                                │
│  ├─ 性能测试                                                                │
│  └─ 用户验收                                                                │
│       │                                                                     │
│       ▼                                                                     │
│  生产环境                                                                    │
│  ├─ 正式发布                                                                │
│  ├─ 监控观察                                                                │
│  └─ 问题处理                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 8.2 发布清单

**发布前检查**:

- [ ] 所有功能测试通过
- [ ] 单元测试覆盖率达标
- [ ] 代码审查完成
- [ ] 文档更新完成
- [ ] 数据库迁移脚本准备
- [ ] 回滚方案准备
- [ ] 发布公告准备

**发布后验证**:

- [ ] 核心功能验证
- [ ] 性能监控正常
- [ ] 错误日志无异常
- [ ] 用户反馈收集

---

## 九、后续规划

### 9.1 功能规划

| 版本 | 功能方向 |
|------|----------|
| v2.1.0 | 波次拣货、路径优化 |
| v2.2.0 | 质检管理、序列号管理 |
| v3.0.0 | 微服务架构、分布式部署 |

### 9.2 技术演进

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              技术演进路线                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  当前阶段 (v1.x)                                                             │
│  ├─ 单体架构                                                                │
│  ├─ SQLite 数据库                                                           │
│  └─ 单机部署                                                                │
│                                                                             │
│  中期目标 (v2.x)                                                             │
│  ├─ 模块化架构                                                              │
│  ├─ MySQL/PostgreSQL                                                        │
│  ├─ Redis 缓存                                                              │
│  └─ 集群部署                                                                │
│                                                                             │
│  长期目标 (v3.x)                                                             │
│  ├─ 微服务架构                                                              │
│  ├─ 分布式数据库                                                            │
│  ├─ 消息队列                                                                │
│  └─ 云原生部署                                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 十、附录

### 10.1 开发环境配置

```bash
# 安装依赖
npm install

# 配置数据库连接
cp .env.example .env
# 编辑 .env 文件，配置 MySQL 连接信息
# DATABASE_URL="mysql://root:password@localhost:3306/wms_lite_dev"

# 初始化数据库
cd backend
npx prisma generate
npx prisma migrate dev
npx prisma db seed

# 启动开发服务器
npm run dev
```

### 10.2 常用命令

```bash
# 前端开发
cd frontend
npm run dev      # 启动开发服务器
npm run build    # 构建生产版本
npm run preview  # 预览生产版本

# 后端开发
cd backend
npm run dev      # 启动开发服务器
npm run build    # 构建
npm start        # 启动生产服务器
npm test         # 运行测试

# 数据库
npx prisma studio        # 打开数据库管理界面
npx prisma migrate dev   # 创建迁移
npx prisma migrate reset # 重置数据库
```

### 10.3 参考资源

| 资源 | 链接 |
|------|------|
| Vue 3 文档 | https://vuejs.org/ |
| Element Plus | https://element-plus.org/ |
| Node.js 文档 | https://nodejs.org/ |
| Express 文档 | https://expressjs.com/ |
| Prisma 文档 | https://www.prisma.io/ |
| MySQL 文档 | https://dev.mysql.com/doc/ |
